{% extends "page.html" %}

{% block content %}
{%- if page.title == "Posts" %}
<main class="main section">
  <section class="content container is-medium is-max-desktop">
    <h1>{{ page.title }}</h1>

    <p>An <a href="{{ get_url(path="rss.xml") }}">RSS feed</a> is available. I haven't written a post in a long time, but maybe one day.</p>

    {% for year, posts in section.pages | filter(attribute="extra.stale", value=false) | sort(attribute="date") | reverse | group_by(attribute="year") %}
    <h2>{{ year }}</h2>

    {% for post in posts %}
    <ul class="listing">
      <li>
        <a href="{{ post.permalink }}">{{ post.title }}</a> -
        <time datetime="{{ post.date }}">{{ post.date | date(format="%h %e, %Y") }}</time>
      </li>
    </ul>
    {% endfor %}

    {% endfor %}
  </section>
</main>
{% else %}
{% endif %}
{% endblock content %}
